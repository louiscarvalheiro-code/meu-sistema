<!doctype html>
<html lang="pt">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Relatório de Custos</title>
    <style>
      body { font-family: Arial, sans-serif; font-size: 12px; }
      table { width: 100%; border-collapse: collapse; margin-bottom: 12px; }
      th, td { border: 1px solid #333; padding: 6px; text-align: left; }
      h1, h2 { margin: 8px 0; }
    </style>
  </head>
  <body>
    <h1>Relatório de Custos</h1>
    <h2>Equipamentos</h2>
    <table>
      <tr><th>Nome</th><th>Custo unit.</th><th>Qtd</th><th>Total</th></tr>
      {% for e in equipamentos %}
      <tr>
        <td>{{ e.nome }}</td>
        <td>{{ e.custo }} €</td>
        <td>{{ e.quantidade }}</td>
        <td>{{ (e.custo * e.quantidade) | round(2) }} €</td>
      </tr>
      {% endfor %}
    </table>

    <h2>Humanos</h2>
    <table>
      <tr><th>Nome</th><th>Custo unit.</th><th>Qtd</th><th>Total</th></tr>
      {% for h in humanos %}
      <tr>
        <td>{{ h.nome }}</td>
        <td>{{ h.custo }} €</td>
        <td>{{ h.quantidade }}</td>
        <td>{{ (h.custo * h.quantidade) | round(2) }} €</td>
      </tr>
      {% endfor %}
    </table>

    <h2>Materiais</h2>
    <table>
      <tr><th>Nome</th><th>Preço</th><th>Transporte</th><th>Custo unitário</th></tr>
      {% for m in materiais %}
      <tr>
        <td>{{ m.nome }}</td>
        <td>{{ m.preco }} €</td>
        <td>{{ m.transporte }} €</td>
        <td>{{ (m.preco + m.transporte) | round(2) }} €</td>
      </tr>
      {% endfor %}
    </table>

    <h2>Diversos</h2>
    <table>
      <tr><th>Nome</th><th>Valor</th></tr>
      {% for d in diversos %}
      <tr>
        <td>{{ d.nome }}</td>
        <td>{{ d.valor }} €</td>
      </tr>
      {% endfor %}
    </table>
  </body>
</html>
